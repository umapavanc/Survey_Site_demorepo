<!--<div class="jumbotron p-4">
  <div class="container text-center">
    <alert></alert>
    <router-outlet></router-outlet>
  </div>
</div>-->

<div class="container">
  <!--style="width: 500px; margin: auto;"-->
  <div class="submit-form">
    <div *ngIf="!surveySubmitted">
      <div class="form-group">
        <label for="name">Title</label>
        <input type="text" class="form-control" id="title" required [(ngModel)]="survey.title" name="title" />
      </div>

      <div class="form-group">
        <label for="description">Description</label>
        <input class="form-control" id="description" required [(ngModel)]="survey.description" name="description" />
      </div>

      <button (click)="createSurvey()" class="btn btn-success mt-10">Create</button>
    </div>


    <div class="row" *ngIf="isShownQuestions">
      <!--*ngFor = "let i of questionArray;let index = index"-->
      <span>
        <h4 style="float:left;">Question:</h4><span style="float:right;color:green">Number of questions added: {{
          arrayOfQuestions.length }}</span>
      </span>
      <div class="col-md-5">
        <input class="form-control" [(ngModel)]="question.questionText" required placeholder="Enter your question"
          name="question"  #quest />
      </div>

      <div class="col-md-2">
        <select class="custom-select p-2" [(ngModel)]="question.questionType" (change)="onChange(customSelect.value)"
          #customSelect>
          <option selected [value]="0">Type of question</option>
          <option [value]="1">Text Field</option>
          <option [value]="2">True or False</option>
          <option [value]="3">Multiple Choice</option>
        </select>
      </div>

      <!-- this button is activated only when questions that require no answer options are selected (text answer and true & false)-->
      <div class="col-md-5" #customSelect *ngIf="customSelect.value != '3'">
        <button type="submit" class="btn btn-primary my-1" (click)="saveQuestion();"
          [disabled]="btnDisable">Add Question</button>  
      </div>
      <!-- this button is activated only when multiple choice questions are selected because it also calls that saveAnswer function on submit-->
      <div class="col-md-5" #customSelect *ngIf="customSelect.value == '3'">
        <button type="submit" class="btn btn-primary my-1" (click)="saveQuestion(); saveAnswer();"
          [disabled]="btnDisable1">Add Question</button>  
      </div>
    </div>

   
    <!--<div class="row" *ngIf="isShownRadioButn">
      <div class="col-md-4">
        <div class="form-check">
          <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios1" value="option1" checked>
          <label class="form-check-label" for="gridRadios1">
            <input class="form-control" placeholder="Text Response" required name="answer" />
          </label>
        </div>
        
      </div>
    </div>
    <div *ngFor="let i of radioArray">
      <div class="row" *ngIf="isShownRadioButn">
        <div class="col-md-4">
          <div class="form-check">
            <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios1" value="option1" [checked]="i == 0">
            <label class="form-check-label" for="gridRadios1">
              <input class="form-control" placeholder="Text Response" required name="answer" size="50" [(ngModel)]="responses.responseText" />
            </label>
          </div>
        </div>
        <div class="col-md-2">
          <a class="p-1" (click)="addRadio()"><i class="far fa-plus-square fa-2x"></i></a>
          <a class="p-1" (click)="removeRadio()"> <i class="far fa-minus-square fa-2x"></i></a>
        </div>
      </div>
    </div>-->
    <div *ngFor="let i of checkArray">
      <div class="row" *ngIf="isShownCheckBox">
        <div class="col-md-5">
       <!--<section *ngFor="let response of responses; let i = index">--> 
       
         
              <input class="form-control" placeholder="Enter answer option" required name="response_{{i}}" size="50" [(ngModel)]="response.responseText" /> 
         
        
      <!--</section>-->
      
        <div class="col-md-2">
          <a class="p-1" (click)="addCheck()" ><i class="far fa-plus-square fa-2x"></i></a>
          <a class="p-1" (click)="removeCheck()"> <i class="far fa-minus-square fa-2x"></i></a>
        </div>
      </div>
    </div>

    <div class="row" *ngIf="surveySubmitted">
      <div class="col-md-4 mt-1">
        <button class="btn btn-success" (click)="closeSurvey()">Save Survey & Close</button>
      </div>
    </div>

  </div>
</div>